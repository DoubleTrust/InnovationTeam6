<!doctype html>
<html>
    <head>
        <meta http-equiv="refresh" content="300">
        <meta charset="utf-8">
            <title>page for students</title>
        <link href="css/main1.css" rel="stylesheet" />
        <script src="js/jquery-3.5.1.min.js"></script>
        <script src="js/dialog.js"></script>
        <!--<link type="text/css" href="https://lab.morfans.cn/LiteWebChat_Frame/litewebchat.min.css" rel="stylesheet" /> -->
        <link rel="stylesheet" type="text/css" href="litewebchat.css">
    </head>
    <style>



    </style>
    <body>
        <div id="video">
            <p style="text-align:center">Video</p>
        </div>

        <div id="chat" style="font-size: 0"><!--取出两个button之间的间隙-->
                <button style="outline:none;border-radius:5px;background-color: paleturquoise;border: none;width: 50%;height: 100%" onclick="showDiv();">
                    Particiption</button>
                <button style="outline:none;border-radius:5px;background-color: paleturquoise;border: none;width: 50%;height: 100%" onclick="showDiv();">
                    Chat</button>

        </div>
        <div id="div1" class="col-md-7 agileits_mail_grid_left" style="display: block;background-color: #ffffff;border-radius:10px">
            <div class="lite-chatbox" id="words">
                <!-- cleft  -->
                <div class="cleft cmsg">
                    <span class="name">chenjunyu19</span>
                    <span class="content">What does the VPC mean?</span>
                    <span id="example_rate1" class="content">+4</span>
                </div>
                
                <div class="cleft cmsg">
                    <span class="name">SuperPaxxs</span>
                    <span class="content">What does BMC mean here?</span>
                    <span id="example_rate2" class="content" >+2</span>  
                </div>
            </div>
        </div>                
        

        <div id="div2" class="col-md-7 agileits_mail_grid_left" style="display: none;background-color: #ffffff;border-radius:10px">

                    <table class="table" style="background-color: #ffffff">
                        <tbody>

                        <dl>
                            <dt>
                                <div id="teacher1">
                                    <h3> Prof. Chimin  <h4 id="changepercentage"> answerd 90% questions </h4> </h3>
                                </div>
                            </dt>
                            <hr/>
                            <dt>
                                <div id="user1">
                                    <img src="img/l1.png" style="width:5%;height:5%;vertical-align: middle" >
                                    <h3>Tome</h3>
                                </div>
                            </dt>
                            <hr/>
                            <dt>
                                <div id="user2">
                                    <img src="img/l3.png" style="width:5%;height:5%;vertical-align: middle" >
                                    <h3>Jim</h3>
                                </div>
                            </dt>
                            <hr/>
                            <dt>
                                <div id="user3">
                                    <img src="img/l5.png" style="width:5%;height:5%;vertical-align: middle" >
                                    <h3>Perre</h3>
                                </div>
                            </dt>
                            <hr/>
                            <dt>
                                <div id="user4">
                                    <img src="img/l7.png" style="width:5%;height:5%;vertical-align: middle" >
                                    <h3>Ham</h3>
                                </div>
                            </dt>
                            <hr/>
                        </dl>


                        </tbody>
                    </table>

        </div>

        <div id="tools">
            <button id="voice" >Voice</button>
            <button id="uservideo">Video</button>
            <button id="rank">Rank</button>
            <button id="answerquestions">Answer Questions</button>
        </div>
        <div id="input">
            <input type="text" style="width:300px;height:16px;padding:0px;float:left;text-indent:5px;" id="talkwords">
            <input type="button" value="send" style="float:left;margin-left:10px;" id="talksub" onclick="pass_info()">    
        </div>

        <div id="background" class="back">
                <div id="poptop" class="content">
                    <div id="close">
                        <span id="close-button">×</span>
                        <h2>Ranking list</h2>
                    </div>
                    <div id="poptitile">
<!--                        <h3>弹窗标题</h3>-->
                        <table width="100%" border="1" >
                              <thead>
                                  <tr>
                                    <th class="main" scope="col" rowspan="2">Rank</th>
                                    <th class="main" scope="col" colspan="6">Credit Rank </th>
                                  </tr>
                                  <tr class="sub-main" >
                                    <th>Name </th>
                                    <th>Credits </th>
                                    <th>Medal</th>
                                  </tr>
                              </thead>
                              <tbody>
                              <tr>
                                <th scope="row" class="sub-main">1</th>
                                <td>Xu</td>
                                <td id="changecredits">25</td>
                                <td>Medal awarded</td>

                              </tr>
                              <tr>
                                <th scope="row" class="sub-main">2</th>
                                <td>Jia</td>
                                <td>20</td>
                                <td>Medal awarded</td>
                              </tr>
                              <tr>
                                <th scope="row" class="sub-main">3</th>
                                <td>Wen</td>
                                <td>20</td>
                                <td>Medal awarded</td>
                              </tr>
                              <tr>
                                <th scope="row" class="sub-main">4</th>
                                <td>Ye</td>
                                <td>15</td>
                                <td>Medal awarded</td>
                              </tr>
                              <tr>
                                <th scope="row" class="sub-main">5</th>
                                <td>Sebastian</td>
                                <td>10</td>
                                <td>-</td>
                              </tr>
                              <tr>
                                <th scope="row" class="sub-main">6</th>
                                <td>Rose</td>
                                <td>0</td>
                                <td>-</td>
                              </tr>

                              </tbody>

                            </table>

                    </div>
                    <h3 id="foot">Good Job</h3>
                </div>
            </div>



        <div id="multiquestion">
            <div id="poptopq" class="content">
                    <div id="closqe">
                        <span id="close-buttonq">×</span>
                        <h2>Ranking list</h2>
                    </div>
                <div id="poptitileq">
                    <form>
                        <div class="divCss">
                        1.你现在处于什么地方?()
                            <ol type="A" start="" class="olCss" name="single" >
                                <input class="inputClass" type="radio" name="place1" value="A" checked="checked" /><li class="liRight">银河系</li>
                                <input class="inputClass" type="radio" name="place1" value="B" /><li class="liRight">太阳系</li>
                                <input class="inputClass" type="radio" name="place1" value="C" /><li class="liRight">地球</li>
                            </ol>
                        </div>
                        <div class="divCss">
                        2.What is your name?()
                            <ol type="A" start="" class="olCss" name="single" >
                                <input class="inputClass" type="checkbox" name="place2" value="A"  /><li class="liRight">Ye</li>
                                <input class="inputClass" type="checkbox" name="place2" value="B" checked="checked" /><li class="liRight">yeee</li>
                                <input class="inputClass" type="checkbox" name="place2" value="C" /><li class="liRight">Yee</li>
                            </ol>
                        </div>
                        <input id="submitq" type="button" value="Submit" onclick="sendMsg()" />
                    </form>
                </div>
            </div>
        </div>

    </body>

    <script src="js/tc.js"></script>
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
    <script>
        // Plus one code    
        document.getElementById('example_rate1').addEventListener('click', highlight, false);
        function highlight() {
            document.getElementById("example_rate1").innerHTML = "+5";
            localStorage.setItem("question","What does the VPC mean?"); // if not working, change the key or clear
            localStorage.clear();
        };

        /*$("#example_rate1").click(function(){
            alert(1);
            document.getElementById("example_rate1").innerHTML = "+5";
            localStorage.setItem("question","What does the VPC mean?"); // if not working, change the key or clear
            localStorage.clear();
            
        });*/

        $("#example_rate2").click(function(){
            document.getElementById("example_rate2").innerHTML = "+3";
            localStorage.setItem("p3","+3"); // if not working, change the key or clear
            localStorage.clear();
        });

        function showDiv() {
            var div1=document.getElementById("div1");
            var div2=document.getElementById("div2");

            if (div1.style.display==='block')
                div1.style.display='none';
            else div1.style.display='block';
            if (div2.style.display==='block')
                div2.style.display='none';
            else div2.style.display='block';
        }
        function openwin() {
            window.open ("rankpage.html", "height=100, width=400, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no")
        }
        
        // Chat-box code
    </script>
    <script>
        function pass_info(){
            //定义空字符串
            var Words = document.getElementById("words");
            var Who = "You (Alan) ";
            var TalkWords = document.getElementById("talkwords");
            var TalkSub = document.getElementById("talksub");

            var str = "";
            if(TalkWords.value == ""){
                    // 消息为空时弹窗
                alert("消息不能为空");
                return;
            }
            str = '<div class="cleft cmsg"><span class="name">' + Who + '</span><span class="content">'
                 + TalkWords.value + '</span><span class="content">+1</span></div>'
            
            Words.innerHTML = Words.innerHTML + str;

            // save to local storage
            localStorage.setItem("Alan",TalkWords.value); // if not working, change the key or clear
            localStorage.clear();
            document.getElementById("talkwords").value="";
        }
        
    </script>

    <script>
    function sendMsg(){
        //题目数
        var singleSize = $("[name='single']").length;
        var multiSize = $("[name='multi']").length;
        var div = document.getElementById('multiquestion');
        var value = document.getElementById('changecredits');
        //答案数组
        var answerArr = new Array(singleSize+multiSize);
        //单选答案
        $("[name='single']").each(function(index){
            //放入答案
            var answer = $("input[name='place"+(index+1)+"']:checked").val();
            answerArr[index] = answer;
        })
        //多选答案
        $("[name='multi']").each(function(index){
            //拼接多选答案
            var multiAnswer = "";
            $("input[name='place"+(index+singleSize+1)+"']:checked").each(function(){
                if ("checked" == $(this).attr("checked")) {
                    //拼接答案
                    multiAnswer = multiAnswer+$(this).attr('value');
                }
            })
            //放入答案
            answerArr[index+singleSize] = multiAnswer;
        })
        //在调试模式下的console中查看输出
        console.log(answerArr);
        //发送答案到服务器
        value.innerText = parseInt(value.innerText) + 1
        div.style.display = "none";
    }
    </script>

</html>
